generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Patient {
    id                  String        @id @default(uuid())
    fullname            String
    gender              String
    age                 Int
    phoneNumber         String
    medicalConditions   String[]
    medications         Medications[] @relation("PatientMedications")
    totalDosesToConsume Int           @default(0)
    totalConsumedDoses  Int           @default(0)
}

// should we have a totalRemindersSent for each drug?
model Medications {
    id        String   @id @default(uuid())
    patientId String
    name      String
    dosage    String
    time      String[]
    mode      Mode
    patient   Patient  @relation(fields: [patientId], references: [id], name: "PatientMedications")
}

enum Mode {
    phoneCall
    textMessage
}
